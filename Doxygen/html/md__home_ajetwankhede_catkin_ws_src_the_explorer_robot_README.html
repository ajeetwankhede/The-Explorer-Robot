<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The Explorer Robot: The Explorer Robot</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">The Explorer Robot
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">The <a class="el" href="classExplorer.html">Explorer</a> Robot </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p class=""><a href="https://travis-ci.org/ajeetwankhede/The-Explorer-Robot"><div class="image">
<img src="https://travis-ci.org/ajeetwankhede/The-Explorer-Robot.svg?branch=master" alt="Build Status"/>
</div>
</a></p>
<p class=""><a href="https://coveralls.io/github/ajeetwankhede/The-Explorer-Robot"><div class="image">
<object type="image/svg+xml" data="https://coveralls.io/repos/github/ajeetwankhede/The-Explorer-Robot/badge.svg" alt="Coverage Status"></object>
</div>
</a></p>
<p class=""><a href="https://opensource.org/licenses/MIT"><div class="image">
<object type="image/svg+xml" data="https://img.shields.io/badge/License-MIT-brightgreen.svg"></object>
</div>
</a></p>
<h2>Team Members</h2>
<ol type="1">
<li>Likhita Madiraju: I am an M.Eng. Robotics student at the University of Maryland.</li>
<li>Ajeet Wankhede: I am a master's student at the University of Maryland, studying Robotics.</li>
</ol>
<h2>Author Name for Sprint 1</h2>
<p class="">Driver: Ajeet Wankhede</p>
<p class="">Navigator: Likhita Madiraju</p>
<h2>Author Name for Sprint 2</h2>
<p class="">Driver: Likhita Madiraju</p>
<p class="">Navigator: Ajeet Wankhede</p>
<h2>Author Name for Sprint 3</h2>
<p class="">Driver: Ajeet Wankhede</p>
<p class="">Navigator: Likhita Madiraju</p>
<h2>Project Overview</h2>
<p class="">This autonomous robotic system can be applied for TurtleBot in any indoor facility for 2D mapping and path planning. Simultaneous Localization and Mapping (SLAM) is developed, for Acme Robotics, for the navigation of their TurtleBot, in an unknown environment. Gazebo is used to create a model of a warehouse to be explored by the TurtleBot. SLAM enables the location and building of a map while the robot is moving through the warehouse safely. Once the floorplan is created, a path planner is implemented for autonomous navigation, which can be used to locate and transport packages within the warehouse. The generated map and the optimal trajectory is visualized with the help of rviz visualization environment. A demo is provided, implementing the exploration of unknown environment and path planning, in a warehouse setting. <br />
 </p><h2>Disclaimer</h2>
<p class="">This project comes with MIT license. To view the entire license content please visit the following <a href="https://opensource.org/licenses/MIT">link</a></p>
<h2>Link for SIP document</h2>
<p class=""><a href="https://docs.google.com/spreadsheets/d/10SLYF6b-H8jBe_Sn3X3n9NG67jSoSL41Iv0T1WjI9ok/edit?usp=sharing">SIP document</a></p>
<h2>Link for Sprint review document</h2>
<p class=""><a href="https://docs.google.com/document/d/1Z08-iwbV5uTY5A9PehAq-EnedAIHFBOwVHvecpv49y0/edit?usp=sharing">Sprint review document</a></p>
<h2>Dependencies</h2>
<ol type="1">
<li>ROS Kinetic - to install ROS follow the <a href="http://wiki.ros.org/kinetic/Installation">link</a></li>
<li>catkin - to install catkin run the following command <div class="fragment"><div class="line">sudo apt-get install ros-kinetic-catkin</div></div><!-- fragment --></li>
<li><p class="startli">Package Dependencies</p>
<p class="startli">a. roscpp</p>
<p class="startli">b. std_msgs</p>
<p class="startli">c. rostest</p>
<p class="startli">d. turtlebot simulation stack - to install turtlebot run the following command </p><div class="fragment"><div class="line">sudo apt-get install ros-kinetic-turtlebot-gazebo ros-kinetic-turtlebot-apps ros-kinetic-turtlebot-rviz-launchers</div></div><!-- fragment --><ol type="a">
<li>Gazebo (v7.1) - Select while installing ROS Kinetic</li>
</ol>
</li>
</ol>
<p class="">## Build </p><div class="fragment"><div class="line">mkdir -p ~/catkin_ws/src</div><div class="line">cd ~/catkin_ws/</div><div class="line">catkin_make</div><div class="line">source ./devel/setup.bash</div><div class="line">cd src/</div><div class="line">git clone --recursive https://github.com/ajeetwankhede/The-Explorer-Robot.git</div><div class="line">cd ../..</div><div class="line">catkin_make</div></div><!-- fragment --> <h2>Running a Gazebo demo</h2>
<p class="">We have created a warehouse world in Gazebo with TurtleBot. To view this world enter the following commands: </p><div class="fragment"><div class="line">roslaunch turtlebot_gazebo turtlebot_world.launch world_file:=/home/&lt;user name&gt;/catkin_ws/src/the_explorer_robot/world/warehouse.world </div></div><!-- fragment --><p> The world should look as shown below: </p>
<div class="image">
<img src="/output/warehouse.png" alt=""/>
</div>
 <p class="">This world is mapped using gmapping which uses SLAM. A explorer node is created for autonomous SLAM which subscribes to the laser data of turtle bot provided by topic /scan, and publishes the command velocities for turtle bot. The algorithm for explorer is explained in the activity daigram. It can also record the messages for approx 30 sec using rosbag. This process is visualized in Rviz. Enter following commands in terminal to launch the demo:</p>
<p class="">a. Autonomous SLAM: </p><div class="fragment"><div class="line">cd ~/catkin_ws/</div><div class="line">source ./devel/setup.bash</div><div class="line">roslaunch the_explorer_robot demo_launch.launch</div></div><!-- fragment --><p> The TurtleBot can also be controlled by using teleop for generating the 2D map. If teleop is launched then it overrides the messages published by explorer node. To launch teleop enter the following command in new terminal </p><div class="fragment"><div class="line">roslaunch turtlebot_teleop keyboard_teleop.launch --screen</div></div><!-- fragment --><h2>Using the Service to change the speed</h2>
<p class="">While using gmapping the linear speed and angular speed of the robot can be changed using the service change_speed. First argument is the linear speed and second is the angular speed. It can be called by entering the following commands in a new terminal. </p><div class="fragment"><div class="line">rosservice call /change_speed &lt;linear_speed&gt; &lt;angular_speed&gt;</div></div><!-- fragment --><p class="">Once the mapping generates a rough map, it can be saved by running the service provided by gmapping. Enter the following command in new terminal. </p><div class="fragment"><div class="line">rosrun map_server map_saver -f &lt;file_path&gt;</div></div><!-- fragment --><p> Output of the gmapping is as shown below: </p>
<div class="image">
<img src="/output/slam.png" alt=""/>
</div>
 <p class="">This map can be made better either using teleop or editing the saved map. The map generated after moving the TurtleBot to the parts where the area in the map was grey, we the the below map: </p>
<div class="image">
<img src="/output/slam_final.png" alt=""/>
</div>
 <p class="">b. Path planning using ROS navigation stack The saved map is used for path planning using ROS navigation stack. Enter the following commands to launch the navigation stack demo: </p><div class="fragment"><div class="line">cd ~/catkin_ws/</div><div class="line">source ./devel/setup.bash</div><div class="line">roslaunch the_explorer_robot path_launch.launch</div></div><!-- fragment --><p> In Rviz the TurtleBot pose can be estimated using 2D pose estimate. Once the pose is approximately as in Gazebo, the path planner can be used by setting a goal with the help of 2D Nav goal button. The TutleBot navigates to the pose that has been set.</p>
<h2>Stop the nodes</h2>
<p class="">To stop, press Ctrl+C and then enter the following command to clean up the nodes from the rosnode list </p><div class="fragment"><div class="line">rosnode cleanup</div></div><!-- fragment --><h2>Visualize in rqt</h2>
<p class="">To visualize the publish-subscribe relationships between the nodes as a graph run the following command in a new terminal </p><div class="fragment"><div class="line">rosrun rqt_graph rqt_graph</div></div><!-- fragment --><h2>Using rosbag to record and replay the messages</h2>
<p class="">To start recoding the messages expect /camera/* topics, using rosbag run the following commands in a new terminal. It will record for approx 30 sec and dave a bag file in results folder. Make sure roscore is running. </p><div class="fragment"><div class="line">roslaunch the_explorer_robot demo_launch_file.launch record:=true</div></div><!-- fragment --><p> The recording can be stopped by pressing Ctrl+C and the messages will be saved in results/recordedData.bag file. To disable the recording option while launching the launch_file run the following command. </p><div class="fragment"><div class="line">roslaunch the_explorer_robot demo_launch_file.launch record:=false</div></div><!-- fragment --><p class="">To play the recorded messages run the following command in a new terminal. </p><div class="fragment"><div class="line">cd ~/catkin_ws/src/the_explorer_robot/results</div><div class="line">rosbag play recordedData.bag</div></div><!-- fragment --><h2>Running the tests</h2>
<p class="">To run the tests written for explorer node run the following commands in a new terminal. It will show the output after ROS runs the tests. </p><div class="fragment"><div class="line">cd ~/catkin_ws</div><div class="line">source ./devel/setup.bash</div><div class="line">catkin_make run_tests_the_explorer_robot</div></div><!-- fragment --><p> The test ouput could also be seen by launching the test launch file by entering the following commands: </p><div class="fragment"><div class="line">rostest the_explorer_robot explorerTest.launch</div></div><!-- fragment --><h2>Code Coverage</h2>
<p class="">The code coverage of the code is found by entering the following commands in a terminal. This will show the coverage in the terminal. The current code coverage is 90%. </p><div class="fragment"><div class="line">cd ~/catkin_ws/build</div><div class="line">lcov --directory . --capture --output-file coverage.info</div><div class="line">lcov --list coverage.info</div></div><!-- fragment --><p> To create a .html for the code coverage run the following command: </p><div class="fragment"><div class="line">genhtml coverage.info --output-directory covout</div></div><!-- fragment --><h2>How to generate Doxygen report</h2>
<p class="">Run the following commands to generate a Doxygen report: </p><div class="fragment"><div class="line">sudo apt-get install doxygen</div><div class="line">cd &lt;path to repository&gt;</div><div class="line">mkdir Doxygen</div><div class="line">cd Doxygen</div><div class="line">doxygen -g &lt;config_file_name&gt;</div><div class="line">gedit &lt;config_file_name&gt;</div></div><!-- fragment --><p> Update PROJECT_NAME and INPUT fields in the configuration file. Then run the following command to generate the documentations. </p><div class="fragment"><div class="line">doxygen &lt;config_file_name&gt;</div></div><!-- fragment --><p> In Doxygen folder, config file and genertaed reports are saved as html and latex format in Doxygen directory. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
